<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Knockout</title>
</head>
<body>

    <ul data-bind="foreach: products">
        <li data-bind="text: $data"></li>
    </ul>
    <div>
        <input type="checkbox" data-bind="checked: selectAllProducts">
    </div>
    <div data-bind="foreach: products">
        <label>
            <input type="checkbox" data-bind="checkedValue: $data, checked: $parent.choosenProducts">
            <span data-bind="text: $data"></span>
        </label>
    </div>

    <script src="js/knockout-3.5.0.debug.js"></script>
    <script>
        function AppViewModel() {
            this.products = ['Apples','Bananas','Oranges','Kiwis','Lemons','Tangerines'];
            this.choosenProducts = ko.observableArray(['Apples','Lemons']);

            this.selectAllProducts = ko.pureComputed({
                read: function () {
                    return this.choosenProducts().length===this.products;
                },
                write: function (value) {
                    this.choosenProducts(value?this.products.slice(0):[])
                },
                owner: this
            });
        }
        ko.applyBindings(new AppViewModel());
    </script>
</body>
</html>